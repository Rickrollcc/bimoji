//MIN

document.addEventListener('DOMContentLoaded', function() { fetch('/em/bim2.json').then(response => response.json()).then(data => { Object.keys(data).forEach(key => { const keyData = data[key]; const path = keyData.path; const bimt = keyData.bimt; const bims = keyData.bims; if (typeof keyData === 'object' && keyData !== null) { document.querySelectorAll(`span.${key}, i.${key}`).forEach(element => { const elementText = element.textContent.trim(); const index = bimt.indexOf(elementText); if (index !== -1) { const bimi = bims[index]; const alignmentClass = { 'bim': 'middle', 'bim-t': 'top', 'bim-b': 'baseline', 'bim-m': 'bottom', 'bim-s': 'sub' }[Array.from(element.classList).find(cls => cls.startsWith('bim'))] || ''; const bimg = `${path}${bimi}.png`; element.innerHTML = `<img src="${bimg}" alt="${elementText}" style="max-width:1.2em;height:auto;vertical-align:${alignmentClass};"/>`; } }); } }); }).catch(error => console.error('Error loading emoticon data:', error)); });